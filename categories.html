---
layout: default
title: Категории
permalink: /categories/
---

<div class="page">

  <header class="page-header">
    <h1 class="page-title">Категории</h1>
    <p class="page-subtitle">
      Навигация по статьям энциклопедии
    </p>
  </header>

  {%- comment -%}
  =====================
  TOC — КАК В СТАТЬЕ
  =====================
  {%- endcomment -%}

  <details class="toc" open>
    <summary class="toc-toggle">Содержание</summary>
    <nav class="toc-nav">
      <ul>
        {% for category in site.data.categories %}
          {% assign posts = site.posts | where_exp: "p", "p.categories contains category.id" %}
          {% if posts.size > 0 %}
            <li>
              <a href="#{{ category.id }}">
                {{ category.name }}
              </a>
            </li>
          {% endif %}
        {% endfor %}
      </ul>
    </nav>
  </details>

  {%- comment -%}
  =====================
  КАТЕГОРИИ
  =====================
  {%- endcomment -%}

  {% for category in site.data.categories %}
    {% assign posts = site.posts | where_exp: "p", "p.categories contains category.id" %}
    {% if posts.size > 0 %}

      <section id="{{ category.id }}" class="category-section">

        <h2>{{ category.name }}</h2>

        {% if category.description %}
          <div class="category-description">
            {{ category.description }}
          </div>
        {% endif %}

        <ul class="article-list">
          {% for post in posts %}
            <li>
              <a href="{{ post.url | relative_url }}">
                {{ post.title }}
              </a>
            </li>
          {% endfor %}
        </ul>

      </section>

    {% endif %}
  {% endfor %}

</div>

<style>
/* =======================
   CATEGORY PAGE TWEAKS
   (вписывается в общий стиль)
   ======================= */

.category-section {
  margin-top: var(--space-2xl);
}

.category-section h2 {
  font-family: var(--font-serif);
  font-size: 1.75rem;
  font-weight: 600;
  margin-bottom: var(--space-md);
  padding-top: var(--space-lg);
  border-top: 1px solid var(--color-border-light);
}

.category-section:first-of-type h2 {
  border-top: none;
  padding-top: 0;
}

.category-description {
  color: var(--color-text-secondary);
  font-size: 0.95rem;
  margin-bottom: var(--space-md);
}

.article-list {
  column-count: 3;
  column-gap: 2.5rem;
  padding-left: var(--space-xl);
}

@media (max-width: 900px) {
  .article-list { column-count: 2; }
}

@media (max-width: 600px) {
  .article-list { column-count: 1; }
}

.article-list li {
  break-inside: avoid;
  margin-bottom: .35rem;
}

.article-list a {
  color: var(--color-link);
  text-decoration: none;
}

.article-list a:hover {
  text-decoration: underline;
}
</style>
