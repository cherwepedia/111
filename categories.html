---
layout: default
title: Категории
permalink: /categories/
---

<a id="top"></a>

<div class="container">

  <header class="page-header">
    <h1 class="page-title">Категории</h1>
    <p class="page-subtitle">Содержание энциклопедии по категориям и алфавиту</p>
  </header>

  {%- comment -%}
  =========================
  СОДЕРЖАНИЕ КАТЕГОРИЙ
  =========================
  {%- endcomment -%}

  <nav class="categories-toc">
    <h2>Категории</h2>
    <ul>
      {% for category in site.data.categories %}
        {% assign cat_posts = site.posts | where_exp: "post", "post.categories contains category.id" %}
        {% if cat_posts.size > 0 %}
          <li>
            <a href="#cat-{{ category.id }}">
              {{ category.name }} ({{ cat_posts.size }})
            </a>
          </li>
        {% endif %}
      {% endfor %}
    </ul>
  </nav>

  <hr>

  {%- comment -%}
  =========================
  АЛФАВИТНЫЙ ИНДЕКС
  =========================
  {%- endcomment -%}

  {% assign letters = "" %}
  {% for post in site.posts %}
    {% assign first = post.title | strip | slice: 0, 1 | upcase %}
    {% unless letters contains first %}
      {% assign letters = letters | append: first | append: "," %}
    {% endunless %}
  {% endfor %}
  {% assign letters = letters | split: "," | sort %}

  <nav class="alphabet-index">
    <h2>Алфавитный указатель</h2>
    <p>
      {% for letter in letters %}
        {% if letter != "" %}
          <a href="#letter-{{ letter }}">{{ letter }}</a>
        {% endif %}
      {% endfor %}
    </p>
  </nav>

  <hr>

  {%- comment -%}
  =========================
  СТАТЬИ ПО АЛФАВИТУ
  =========================
  {%- endcomment -%}

  <div class="alphabet-content">
    {% for letter in letters %}
      {% if letter != "" %}

        <section id="letter-{{ letter }}">
          <h2>{{ letter }}</h2>

          <ul>
            {% for post in site.posts %}
              {% assign first = post.title | strip | slice: 0, 1 | upcase %}
              {% if first == letter %}
                <li>
                  <a href="{{ post.url | relative_url }}">
                    {{ post.title }}
                  </a>
                </li>
              {% endif %}
            {% endfor %}
          </ul>

          <p class="back-to-top">
            <a href="#top">↑ Наверх</a>
          </p>
        </section>

        <hr>

      {% endif %}
    {% endfor %}
  </div>

  {%- comment -%}
  =========================
  КАТЕГОРИИ → СТАТЬИ
  =========================
  {%- endcomment -%}

  <div class="categories-content">
    {% for category in site.data.categories %}
      {% assign cat_posts = site.posts | where_exp: "post", "post.categories contains category.id" %}
      {% if cat_posts.size > 0 %}

        <section id="cat-{{ category.id }}">
          <h2>{{ category.name }}</h2>

          {% if category.description %}
            <p>{{ category.description }}</p>
          {% endif %}

          <ul>
            {% for post in cat_posts %}
              <li>
                <a href="{{ post.url | relative_url }}">
                  {{ post.title }}
                </a>
              </li>
            {% endfor %}
          </ul>

          <p class="back-to-top">
            <a href="#top">↑ Наверх</a>
          </p>
        </section>

        <hr>

      {% endif %}
    {% endfor %}
  </div>

</div>
